{
    "name": "Nokia EDA in GitHub Codespaces",
    "image": "ghcr.io/eda-labs/codespaces/base:main",
    "features": {
        "ghcr.io/devcontainers/features/docker-in-docker:2": {
            "version": "latest",
            "dockerDashComposeVersion": "v2"
        }
    },
    "customizations": {
        "vscode": {
            "extensions": [
                // "ms-kubernetes-tools.vscode-kubernetes-tools",
                "eda-labs.vscode-eda"
            ],
            "settings": {
                "terminal.integrated.defaultProfile.linux": "zsh",
                "terminal.integrated.profiles.linux": {
                    "zsh": {
                        "path": "/bin/zsh"
                    }
                },
                "terminal.integrated.fontFamily": "'JetBrainsMono Nerd Font', 'JetBrainsMono NF', monospace",
                "vscode-eda.edaTargets": {
                    "https://127.0.0.1:9443": {
                        "edaUsername": "admin",
                        "edaPassword": "admin",
                        "kcUsername": "admin",
                        "kcPassword": "admin",
                        "skipTlsVerify": true,
                        "coreNamespace": "eda-system",
                        "context": "k3d-eda-demo"
                    }
                }
            }
        }
    },
    "onCreateCommand": ".devcontainer/onCreate.sh",
    "postCreateCommand": ".devcontainer/postCreate.sh",
    "postAttachCommand": ".devcontainer/postAttach.sh",
    "containerEnv": {
        "EDA_PORT": "9443"
    },
    "forwardPorts": [
        9443
    ],
    "portsAttributes": {
        "9443": {
            "protocol": "https",
            "label": "EDA UI",
            "onAutoForward": "openBrowser"
        }
    },
    "hostRequirements": {
        "cpus": 4,
        "memory": "16gb",
        "storage": "30gb"
    },
    "privileged": true,
    "remoteUser": "vscode"
}